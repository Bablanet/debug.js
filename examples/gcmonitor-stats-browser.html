<!doctype html>
<script src='../src/gcmonitor.js'></script>
<script src='helpers/gcmonitorstats.js'></script>
<body>
	<label>Allocation pressure</label><input id="rangeSlider" type="range" min="0" max="5000" step="100" value="1000"/>
<script>
	// new GcMonitor().start();
	setInterval(function(){
		var element	= document.getElementById('rangeSlider');
		var nAlloc	= parseInt(element.value);
		//nAlloc	= 1000;
		for(var j = 0; j < nAlloc; j++){
			arr	= new Array(1000)
			for(var i = 0; i < arr.length; i++){
				arr[i]	= i;
			}			
		}
	}, 100);
	
	var gcMonitorStats	= new GcMonitorStats();
	gcMonitorStats.domElement.style.position='absolute';
	gcMonitorStats.domElement.style.bottom	= '0px';
	gcMonitorStats.domElement.style.right	= '0px';
	document.body.appendChild(gcMonitorStats.domElement)
	setInterval(function(){
		gcMonitorStats.update();
	}, 1000/60)
</script></body>