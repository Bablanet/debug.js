<!doctype html>
<script src='../src/gcmonitor.js'></script>
<script src='helpers/gcmonitorstats.js'></script>
<body>
	<div>
		<label>nb Allocation</label>
		<input id="nAllocSlider" type="range" min="0" max="5000" step="100" value="1000"/>
	</div>
	<div>
		<label>nb Allocation element</label>
		<input id="allocSizeSlider" type="range" min="0" max="5000" step="10" value="1000"/>
	</div>
<script>
	// new GcMonitor().start();
	setInterval(function(){
		var element	= document.getElementById('rangeSlider');
		var nAlloc	= parseInt(document.getElementById('nAllocSlider').value);
		var allocSize	= parseInt(document.getElementById('allocSizeSlider').value);

		for(var j = 0; j < nAlloc; j++){
			arr	= new Array(allocSize)
			for(var i = 0; i < arr.length; i++){
				arr[i]	= i;
			}			
		}
	}, 100);
	
	var gcMonitorStats	= new GcMonitorStats();
	gcMonitorStats.domElement.style.position='absolute';
	gcMonitorStats.domElement.style.bottom	= '0px';
	gcMonitorStats.domElement.style.right	= '0px';
	document.body.appendChild(gcMonitorStats.domElement)
	setInterval(function(){
		gcMonitorStats.update();
	}, 1000/10)
</script></body>